<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≥–Ω–æ–∑ —Ü–µ–Ω—ã –∞–∫—Ü–∏–∏</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header>
    <h1>üìà –ü—Ä–æ–≥–Ω–æ–∑ —Ü–µ–Ω—ã –∞–∫—Ü–∏–∏</h1>
    <nav>
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/analysis">–ê–Ω–∞–ª–∏–∑ sentiment</a>
        <a href="/forecast" class="active">–ü—Ä–æ–≥–Ω–æ–∑</a>
    </nav>
</header>

<div class="container">
    <div class="card">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞</h2>
        
        <!-- <div class="form-group">
            <label for="ticker">–¢–∏–∫–µ—Ä –∞–∫—Ü–∏–∏:</label>
            <select id="ticker">
                <option value="AAPL">AAPL (Apple)</option>
                <option value="GOOGL">GOOGL (Google)</option>
                <option value="MSFT">MSFT (Microsoft)</option>
                <option value="TSLA">TSLA (Tesla)</option>
            </select>
        </div> -->
        
        <div class="form-group">
            <label for="days">–î–Ω–µ–π –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞:</label>
            <input type="range" id="days-range" min="1" max="30" value="5">
            <input type="number" id="days" value="5" min="1" max="30">
        </div>
        
        <div class="form-group">
            <label for="sentiment">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ (sentiment):</label>
            <select id="sentiment">
                <option value="1">üìà –ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ</option>
                <option value="0" selected>‚û°Ô∏è –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ</option>
                <option value="-1">üìâ –ù–µ–≥–∞—Ç–∏–≤–Ω–æ–µ</option>
            </select>
        </div>
        
        <button onclick="runForecast()" id="forecast-btn">
            üöÄ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑
        </button>
    </div>
    
    <div class="card">
        <h2>–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥–Ω–æ–∑–∞</h2>
        <div class="chart-container">
            <canvas id="forecastChart"></canvas>
        </div>
    </div>
    
    <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è forecast-info -->
</div>

<script src="/static/forecast.js"></script>
<script>
    // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª–∑—É–Ω–∫–∞ –∏ —á–∏—Å–ª–∞
    const daysRange = document.getElementById('days-range');
    const daysInput = document.getElementById('days');
    
    daysRange.addEventListener('input', function() {
        daysInput.value = this.value;
    });
    
    daysInput.addEventListener('input', function() {
        const value = Math.min(Math.max(parseInt(this.value) || 1, 1), 30);
        daysRange.value = value;
        this.value = value;
    });
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    document.getElementById('sentiment').addEventListener('change', runForecast);
    daysInput.addEventListener('change', runForecast);
    daysRange.addEventListener('change', runForecast);
    
    // –°—Ç–∏–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–∏
    document.querySelectorAll('nav a').forEach(link => {
        if (link.href === window.location.href) {
            link.classList.add('active');
        }
    });
</script>

</body>
</html>